{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "5758cb73_4e7cc9d9",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000127
      },
      "writtenOn": "2022-06-01T01:51:28Z",
      "side": 1,
      "message": "There is no gem port that consumes pbit0 traffic in TechProfile-1T4GEM-FTTB.json TP. Is that valid? I think the test is failing due to a check related to this. One of the flow (upstream data plane rule for OLT) fails to add due to this. ",
      "revId": "a6c3e4487a95b7c5ec29dc00384a95525ac88b5e",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "119f8cdb_a73b8ba2",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000127
      },
      "writtenOn": "2022-06-01T01:53:20Z",
      "side": 1,
      "message": "These are the four pbit maps for four GEM ports in the TP. 0b11000000, 0b00110000, 0b00001000, 0b00000110. There is no reference to bit0 in any of the pbit maps. Can you check with Amit if this is a valid configuration? Then we may need some fixes in the stack.",
      "revId": "a6c3e4487a95b7c5ec29dc00384a95525ac88b5e",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a143e229_df94d57d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000097
      },
      "writtenOn": "2022-06-01T14:04:01Z",
      "side": 1,
      "message": "Hi Girish, yes you are correct that the TP is not quite correct. Please find below the tech profile (I have also sent it to you on slack). This should be as per the design for p-bit mapping that was done at https://docs.google.com/document/d/1l3RHt3c0Pc3BcyqRsCOIeawTNqlQFZz3VDpC7Pv3L8U/edit#heading\u003dh.frb7h96y46kz. \n\nScheduler priority_q:0 is the highest and priority_q:3 is the lowest right? because we want p-bit 5 and 6 to be of highest priority and p-bit 0 of lowest priority. p-bit 7 should be dropped if received for subscriber traffic.\n\n{\n    \"name\": \"DT_A4_FTTB_Profile\",\n    \"profile_type\": \"GPON\",\n    \"version\": 1,\n    \"num_gem_ports\": 4,\n    \"instance_control\": {\n        \"onu\": \"multi-instance\",\n        \"uni\": \"single-instance\",\n        \"max_gem_payload_size\": \"auto\"\n    },\n    \"us_scheduler\": {\n        \"additional_bw\": \"AdditionalBW_BestEffort\",\n        \"direction\": \"UPSTREAM\",\n        \"priority\": 0,\n        \"weight\": 0,\n        \"q_sched_policy\": \"StrictPriority\"\n    },\n    \"ds_scheduler\": {\n        \"additional_bw\": \"AdditionalBW_BestEffort\",\n        \"direction\": \"DOWNSTREAM\",\n        \"priority\": 0,\n        \"weight\": 0,\n        \"q_sched_policy\": \"StrictPriority\"\n    },\n    \"upstream_gem_port_attribute_list\": [\n        {\n            \"pbit_map\": \"0b01100000\",\n            \"aes_encryption\": \"True\",\n            \"scheduling_policy\": \"StrictPriority\",\n            \"priority_q\": 0,\n            \"weight\": 100,\n            \"discard_policy\": \"TailDrop\",\n            \"max_q_size\": \"auto\",\n            \"discard_config\": {\n                \"max_threshold\": 0,\n                \"min_threshold\": 0,\n                \"max_probability\": 0\n            }\n        },\n        {\n            \"pbit_map\": \"0b00010000\",\n            \"aes_encryption\": \"True\",\n            \"scheduling_policy\": \"StrictPriority\",\n            \"priority_q\": 1,\n            \"weight\": 100,\n            \"discard_policy\": \"TailDrop\",\n            \"max_q_size\": \"auto\",\n            \"discard_config\": {\n                \"min_threshold\": 0,\n                \"max_threshold\": 0,\n                \"max_probability\": 0\n            }\n        },\n        {\n            \"pbit_map\": \"0b00001100\",\n            \"aes_encryption\": \"True\",\n            \"scheduling_policy\": \"StrictPriority\",\n            \"priority_q\": 2,\n            \"weight\": 100,\n            \"discard_policy\": \"TailDrop\",\n            \"max_q_size\": \"auto\",\n            \"discard_config\": {\n                \"min_threshold\": 0,\n                \"max_threshold\": 0,\n                \"max_probability\": 0\n            }\n        },\n        {\n            \"pbit_map\": \"0b00000011\",\n            \"aes_encryption\": \"True\",\n            \"scheduling_policy\": \"StrictPriority\",\n            \"priority_q\": 3,\n            \"weight\": 100,\n            \"discard_policy\": \"TailDrop\",\n            \"max_q_size\": \"auto\",\n            \"discard_config\": {\n                \"min_threshold\": 0,\n                \"max_threshold\": 0,\n                \"max_probability\": 0\n            }\n        }\n    ],\n    \"downstream_gem_port_attribute_list\": [\n        {\n            \"pbit_map\": \"0b01100000\",\n            \"aes_encryption\": \"True\",\n            \"scheduling_policy\": \"StrictPriority\",\n            \"priority_q\": 0,\n            \"weight\": 100,\n            \"discard_policy\": \"TailDrop\",\n            \"max_q_size\": \"auto\",\n            \"discard_config\": {\n                \"max_threshold\": 0,\n                \"min_threshold\": 0,\n                \"max_probability\": 0\n            }\n        },\n        {\n            \"pbit_map\": \"0b00010000\",\n            \"aes_encryption\": \"True\",\n            \"scheduling_policy\": \"StrictPriority\",\n            \"priority_q\": 1,\n            \"weight\": 100,\n            \"discard_policy\": \"TailDrop\",\n            \"max_q_size\": \"auto\",\n            \"discard_config\": {\n                \"min_threshold\": 0,\n                \"max_threshold\": 0,\n                \"max_probability\": 0\n            }\n        },\n        {\n            \"pbit_map\": \"0b00001100\",\n            \"aes_encryption\": \"True\",\n            \"scheduling_policy\": \"StrictPriority\",\n            \"priority_q\": 2,\n            \"weight\": 100,\n            \"discard_policy\": \"TailDrop\",\n            \"max_q_size\": \"auto\",\n            \"discard_config\": {\n                \"min_threshold\": 0,\n                \"max_threshold\": 0,\n                \"max_probability\": 0\n            }\n        },\n        {\n            \"pbit_map\": \"0b00000011\",\n            \"aes_encryption\": \"True\",\n            \"scheduling_policy\": \"StrictPriority\",\n            \"priority_q\": 3,\n            \"weight\": 100,\n            \"discard_policy\": \"TailDrop\",\n            \"max_q_size\": \"auto\",\n            \"discard_config\": {\n                \"min_threshold\": 0,\n                \"max_threshold\": 0,\n                \"max_probability\": 0\n            }\n        }\n    ]\n}",
      "parentUuid": "119f8cdb_a73b8ba2",
      "revId": "a6c3e4487a95b7c5ec29dc00384a95525ac88b5e",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388"
    }
  ]
}